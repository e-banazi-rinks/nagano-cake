<div class="container">
  <div class="row">
    <div class="col-lg-10 title my-5">
      <h2 class="bg-origin">配送先登録/一覧</h2>
    </div>
    <%= render 'layouts/error', obj: @address %>

    <%= form_with model:@address, local:true do |f| %>
    <table>
      <tbody>
        <tr>
          <div class="form-group">
            <td><%= f.label :"郵便番号（ハイフンなし）" %></td>
            <td><%= f.text_field :post_code %></td>
          </div>
        </tr>
        <tr>
          <div class="form-group">
            <td><%= f.label :住所 %></td>
            <td><%= f.text_field :address %></td>
          </div>
        </tr>
        <tr>
          <div class="form-group">
            <td><%= f.label :宛名 %></td>
            <td><%= f.text_field :name %></td>
          </div>
        </tr>
        <tr>
          <div class="form-group col-lg-4">
            <td><%= f.submit "新規登録" %></td>
          </div>
        </tr>
      </tbody>
    </table>
    <% end %>
  </div>

<div class="row">
  <div class="col-lg-10 col-lg-offset-1">
    <table class="table table-bordered text-center">
      <thead class="table-dark">
        <tr>
          <th>郵便番号</th>
          <th>住所</th>
          <th>宛名</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% @addresses.each do |address| %>
        <tr>
          <td><%= address.post_code %></td>
          <td><%= address.address %></td>
          <td><%= address.name %></td>
          <td>
            <span class="mx-2">
              <%= link_to "編集する", edit_address_path(address.id), class: 'btn btn-success' %>
            </span>
            <span>
              <%= link_to "削除する", address_path(address.id), method: :delete, class: 'btn btn-danger' %>
            </span>
          </td>
        </tr>
        <% end %>
      </tbody>
    </table>
   </div>
 </div>
</div>

